# step3 変更をコミット(commit)しよう

* やりたいこと
  * 作業ツリー上で加えた変更をコミットする

## 手順

1. カレントブランチを確認する
    * ブランチの横に○が付いているのがカレントブランチ(現在作業中のブランチ)
    * 先程作成したブランチ(例:feature-imada)になっていること

1. ファイルの更新
    * 適当なファイルを変更し保存する
    * ※複数人でハンズオンする場合は突合を避けるため、page01～10.htmlに担当を割り振ります

1. 変更をコミットする
    * VScode左側、アイコンメニューから「ソース管理」を選択する
    * 「変更」と書かれたエリアの下に先程編集したファイルが表示されていることを確認する
    * ファイル名の横にある「+」ボタンを押し、ファイルが「ステージング済みの変更」に移動したことを確認する
    * 上部のテキストボックスにコミットメッセージを入力する
      * 例:imada 0217 daily commit
    * テキストボックス上部のチェックアイコンをクリックし、コミット

1. コミット確認
    * GitGraph上の履歴に新たなコミットが生成され、作成したブランチのタグがmasterと分かれていることを確認する
    * 先程入力したコミットメッセージも表示されている

## memo

* 一度に複数のファイルに変更を行い、変更の単位毎にファイルを選択してステージに入れ→メッセージを書き→コミット、といったことも可能
  * hunkという概念を使用すると1ファイルの中でもステージングを分けることができる。
    * 2箇所ある変更の内ここはコミットAに、ここはコミットBに、など
  * SourceTreeではGUIでhunkその操作が出来るが、仕組みはまだ良くわかっていない。。

## Advanced

* 上記作業をコマンドライン上で行う

  * 変更の確認
    * `git status`
      * 変更、追加、削除など、カレントブランチの最新コミットからの差分が一覧で表示される
  * 変更のステージング
    * `git add .`
      * `.`で全ファイル
      * ファイル単位/ディレクトリ単位で指定したり、`-u`オプションで更新のみ指定したり色々できる。詳細は割愛
  * 変更の確認
    * `git status`
      * ステージングしたファイル一覧が表示される
  * ステージングした内容のコミット
    * `git commit -m "imada 0217 daily commit"`
  * 変更の確認
    * `git status`
      * コミットが取り込まれたので最新コミットと差がなくなり何も表示されなくなった
